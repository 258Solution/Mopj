<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dashboard Vendoo</title>

<!-- Fonte Poppins -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
<!-- Ícones -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 80px 20px 20px;
  font-family: Arial, sans-serif;
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: background-color 0.4s ease, color 0.4s ease;
}

/* Variáveis de cor */
:root {
  --bg-color: #ffffff;
  --text-color: #000000;
  --card-bg: #F8FAFC;
  --card-text: #000000;
  --card-border: rgba(0,0,0,0.08);
  --shadow-color: rgba(0,0,0,0.08);
}

/* Modo escuro */
.dark-mode {  
  --bg-color: #121212;  
  --text-color: #f1f1f1;  
  --card-bg: #181818;  
  --card-text: #ffffff;  
  --card-border: rgba(255,255,255,0.08);
  --shadow-color: rgba(0,0,0,0.5);
}  

/* ===== Transição suave ===== */
body,
.top-bar,
.card-valor,
.card-valor1,
#btn-produtos,
#btn-relatorios,
#btn-financeiro,
#graficoContainer,
.logo-square,
.logo-text {
  transition: 
    background-color 0.4s ease,
    color 0.4s ease,
    border-color 0.4s ease,
    box-shadow 0.4s ease;
}

/* Barra topo fixa */
.top-bar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 20px;
  background: var(--bg-color);
  box-shadow: 0 2px 10px var(--shadow-color);
}

/* Logo Vendoo */
.logo {
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: 'Poppins', sans-serif;
}
.logo-square {
  width: 28px;
  height: 28px;
  background: var(--bg-color);
  border: 2px solid var(--text-color);
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 5px;
  font-size: 16px;
  font-weight: 700;
  color: var(--text-color);
  box-shadow: 1px 1px 3px rgba(0,0,0,0.2);
  transition: transform 0.2s ease;
}
.logo-square:hover { transform: scale(1.1); }
.logo-text {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 0.5px;
  color: var(--text-color);
  text-shadow: 1px 1px 2px rgba(0,0,0,0.15);
}

/* Botão só ícone */
#toggle-theme {
  padding: 6px;
  font-size: 22px;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-color);
}

/* Cards */
.card-valor, .card-valor1 {
  display:flex; align-items:center; max-width:600px; width:100%; padding:16px 20px; border-radius:10px; gap:12px;
  background:var(--card-bg);
  border: 1px solid var(--card-border);
  box-shadow: 0 2px 8px var(--shadow-color);
}
.icon-box, .icon-box1 { font-size: 24px; color:#6c757d; }
.info-box, .info-box1 { display: flex; flex-direction: column; }
.titulo, .titulo1 { font-size: 14px; color: #6c757d; }
.valor { font-size: 20px; font-weight: bold; color: green; }
.valor1 { font-size: 20px; font-weight: bold; color: #00aaff; }
.toggle-valor, .toggle-valor1 { cursor: pointer; font-size: 22px; color: #6c757d; margin-left: auto; }

/* Botões de navegação */
#btn-produtos, #btn-relatorios, #btn-financeiro {
  position: relative; display: flex; align-items: center;
  max-width: 600px; width: 100%; height: 40px;
  border-radius: 6px; padding: 0 40px 0 10px;
  cursor: pointer; background: var(--card-bg); margin-top:5px;
  border: 1px solid var(--card-border);
  box-shadow: 0 2px 6px var(--shadow-color);
}
#btn-produtos .icon, #btn-relatorios .icon, #btn-financeiro .icon { font-size: 20px; margin-right: 10px; }
#btn-produtos .text, #btn-relatorios .text, #btn-financeiro .text { font-size: 16px; }
#btn-produtos .arrow, #btn-relatorios .arrow, #btn-financeiro .arrow { position: absolute; right: 10px; font-size: 16px; }

/* Gráfico container */
#graficoContainer {
  position: relative; max-width: 1000px; width: 100%; background: var(--card-bg);
  padding: 20px; border-radius: 12px; margin-top:10px;
  border: 1px solid var(--card-border);
  box-shadow: 0 2px 6px var(--shadow-color);
}
#vendasHoraDia { width: 100% !important; height: 350px !important; display:block; }
#dataSelect { position: absolute; top: 10px; right: 10px; padding: 6px 10px; font-size: 14px; max-width: 150px; width: 100%; }
#diaVisual { font-weight: bold; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>

<!-- Barra superior fixa -->
<div class="top-bar">
  <button id="toggle-theme"><i id="theme-icon" class="bi bi-sun"></i></button>
  <div class="logo">
    <div class="logo-square">V</div>
    <div class="logo-text">Vendoo</div>
  </div>
</div>

<h1 style="font-family: 'Poppins', sans-serif; font-size: 20px; color: var(--text-color); font-weight: 50;">
  Dashboard
</h1>

<div id="btn-produtos" onclick="window.location.href='produtos.html'">
  <span class="icon"><i class="bi bi-box-seam"></i></span>
  <span class="text">Produtos</span>
  <span class="arrow"><i class="bi bi-chevron-down"></i></span>
</div>

<div id="btn-relatorios" onclick="window.location.href='relatorios.html'">
  <span class="icon"><i class="bi bi-activity"></i></span>
  <span class="text">Relatório</span>
  <span class="arrow"><i class="bi bi-chevron-down"></i></span>
</div>

<div id="btn-financeiro" onclick="window.location.href='financeiro.html'">
  <span class="icon"><i class="bi bi-wallet2"></i></span>
  <span class="text">Financeiro</span>
  <span class="arrow"><i class="bi bi-chevron-down"></i></span>
</div>

<div class="card-valor">
  <div class="icon-box"><i class="bi bi-currency-dollar"></i></div>
  <div class="info-box">
    <span class="titulo">Valor Líquido</span>
    <span class="valor" id="valor">100,00mt</span>
  </div>
  <div class="toggle-valor" onclick="toggleValor()"><i id="icone" class="bi bi-eye"></i></div>
</div>

<div class="card-valor1">
  <div class="icon-box1"><i class="bi bi-cash-coin"></i></div>
  <div class="info-box1">
    <span class="titulo1">Vendas Realizadas</span>
    <span class="valor1" id="valor1">3</span>
  </div>
  <div class="toggle-valor1" onclick="toggleValor1()"><i id="icone1" class="bi bi-eye"></i></div>
</div>

<div id="graficoContainer">
  <div id="diaVisual">Segunda</div>
  <input type="date" id="dataSelect">
  <canvas id="vendasHoraDia"></canvas>
</div>

<script>
const originalValor = document.getElementById("valor").textContent;
function toggleValor() {
  const valor = document.getElementById("valor");
  const icone = document.getElementById("icone");
  if (valor.textContent === "***") { valor.textContent = originalValor; icone.classList.replace("bi-eye-slash","bi-eye"); }
  else { valor.textContent = "***"; icone.classList.replace("bi-eye","bi-eye-slash"); }
}

const originalValor1 = document.getElementById("valor1").textContent;
function toggleValor1() {
  const valor = document.getElementById("valor1");
  const icone = document.getElementById("icone1");
  if (valor.textContent === "***") { valor.textContent = originalValor1; icone.classList.replace("bi-eye-slash","bi-eye"); }
  else { valor.textContent = "***"; icone.classList.replace("bi-eye","bi-eye-slash"); }
}

const ctx = document.getElementById('vendasHoraDia').getContext('2d');
const horas = Array.from({length:24},(_,i)=>i+":00");
const diasSemana = ['Dom','Seg','Ter','Qua','Qui','Sex','Sáb'];

function gerarVendasDia(data){ return Array.from({length:24},()=>Math.floor(Math.random()*15)); }

const hoje = new Date();
document.getElementById('dataSelect').valueAsDate = hoje;
document.getElementById('diaVisual').textContent = diasSemana[hoje.getDay()];

let datasetAtual = {
  label:`Vendas de ${diasSemana[hoje.getDay()]}`,
  data: gerarVendasDia(hoje),
  borderColor:'rgb(75,192,192)',
  backgroundColor:'rgba(75,192,192,0.2)',
  fill:true,
  tension:0.3,
  pointRadius:4
};

let grafico = new Chart(ctx,{
  type:'line',
  data:{labels:horas,datasets:[datasetAtual]},
  options:{
    responsive:true,
    maintainAspectRatio:false,
    animation:{ duration:400, easing:'easeInOutQuad' }, // animação suave
    plugins:{
      legend:{labels:{color:getComputedStyle(document.body).getPropertyValue('--text-color')}},
      tooltip:{
        mode:'index',
        intersect:false,
        backgroundColor:getComputedStyle(document.body).getPropertyValue('--card-bg'),
        titleColor:getComputedStyle(document.body).getPropertyValue('--text-color'),
        bodyColor:getComputedStyle(document.body).getPropertyValue('--text-color'),
        borderColor:'rgba(0,0,0,0.1)',
        borderWidth:1
      }
    },
    interaction:{mode:'nearest',axis:'x',intersect:false},
    scales:{
      y:{beginAtZero:true,title:{display:true,text:'Número de Vendas',color:getComputedStyle(document.body).getPropertyValue('--text-color')},ticks:{color:getComputedStyle(document.body).getPropertyValue('--text-color')},grid:{color:'rgba(200,200,200,0.2)'}},
      x:{title:{display:true,text:'Horas do Dia',color:getComputedStyle(document.body).getPropertyValue('--text-color')},ticks:{autoSkip:false,color:getComputedStyle(document.body).getPropertyValue('--text-color')},grid:{color:'rgba(200,200,200,0.2)'}}
    }
  }
});

function atualizarGraficoTema(){
  const texto = getComputedStyle(document.body).getPropertyValue('--text-color');
  const bgCard = getComputedStyle(document.body).getPropertyValue('--card-bg');
  grafico.options.plugins.legend.labels.color = texto;
  grafico.options.plugins.tooltip.titleColor = texto;
  grafico.options.plugins.tooltip.bodyColor = texto;
  grafico.options.plugins.tooltip.backgroundColor = bgCard;
  grafico.options.scales.x.ticks.color = texto;
  grafico.options.scales.x.title.color = texto;
  grafico.options.scales.y.ticks.color = texto;
  grafico.options.scales.y.title.color = texto;
  grafico.update();
}

const toggleBtn = document.getElementById('toggle-theme');
toggleBtn.addEventListener('click',()=>{
  document.body.classList.toggle('dark-mode');
  atualizarGraficoTema();
  const themeIcon = document.getElementById('theme-icon');
  if(document.body.classList.contains('dark-mode')){
    themeIcon.classList.replace('bi-sun','bi-moon');
  }else{
    themeIcon.classList.replace('bi-moon','bi-sun');
  }
});

if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){
  document.body.classList.add('dark-mode');
  atualizarGraficoTema();
  document.getElementById('theme-icon').classList.replace('bi-sun','bi-moon');
}

document.getElementById('diaVisual').addEventListener('click',()=>{
  document.getElementById('dataSelect').showPicker();
});

document.getElementById('dataSelect').addEventListener('change',function(){
  const data = new Date(this.value);
  datasetAtual.data = gerarVendasDia(data);
  datasetAtual.label = `Vendas de ${diasSemana[data.getDay()]}`;
  grafico.update();
  document.getElementById('diaVisual').textContent = diasSemana[data.getDay()];
});
</script>

</body>
</html>, 
